(function(t){function e(e){for(var o,i,r=e[0],a=e[1],l=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);b&&b(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),c()}function c(){for(var t,e=0;e<s.length;e++){for(var c=s[e],o=!0,r=1;r<c.length;r++){var a=c[r];0!==n[a]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=c[0]))}return t}var o={},n={index:0},s=[];function i(e){if(o[e])return o[e].exports;var c=o[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=t,i.c=o,i.d=function(t,e,c){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(c,o,function(e){return t[e]}.bind(null,o));return c},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var b=a;s.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("cd49")},"09bb":function(t,e,c){},"23cd":function(t,e,c){"use strict";c("b012")},"40d9":function(t,e,c){"use strict";c("cedc")},"41cb":function(t,e,c){"use strict";c("c163")},"53b5":function(t,e,c){"use strict";c("93df")},"557f":function(t,e,c){"use strict";c("99d3")},"93df":function(t,e,c){},"99d3":function(t,e,c){},a24a:function(t,e,c){},b012:function(t,e,c){},c163:function(t,e,c){},cd49:function(t,e,c){"use strict";c.r(e);var o=c("7a23");c("d434"),c("a24a");function n(t,e,c,n,s,i){const r=Object(o["o"])("FoodsTabs"),a=Object(o["o"])("FoodsList"),l=Object(o["o"])("Cart"),b=Object(o["o"])("Footer");return Object(o["k"])(),Object(o["e"])(o["a"],null,[Object(o["h"])(r),Object(o["h"])("main",null,[Object(o["h"])(a),Object(o["h"])(l)]),Object(o["h"])(b)],64)}const s={class:"tabs"},i={key:0},r={key:1};function a(t,e,c,n,a,l){return Object(o["k"])(),Object(o["e"])("ul",s,[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(t.foodsKind,(e,c)=>(Object(o["k"])(),Object(o["e"])("li",{class:["tabs__item",{"tabs__item--active":e===t.active}],key:c,onClick:c=>t.changeActive(e)},["ch"===e?(Object(o["k"])(),Object(o["e"])("span",i,"中式餐點")):Object(o["f"])("",!0),"ws"===e?(Object(o["k"])(),Object(o["e"])("span",r,"西式餐點")):Object(o["f"])("",!0)],10,["onClick"]))),128))])}var l=c("5502"),b=Object(o["i"])({computed:{...Object(l["c"])(["active"]),...Object(l["b"])(["foodsKind"])},methods:{changeActive(t){return this.$store.dispatch("changeActive",t)}}});c("41cb");b.render=a;var u=b;const d={class:"foods"},O={class:"foods__list__item__action"},j={class:"foods__list__item__action__price"},h=Object(o["h"])("small",null,"NT",-1);function p(t,e,c,n,s,i){return Object(o["k"])(),Object(o["e"])("section",d,[Object(o["h"])(o["c"],{tag:"ul",class:"foods__list",name:"fade",mode:"out-in"},{default:Object(o["r"])(()=>[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(t.totalFoods,e=>(Object(o["k"])(),Object(o["e"])("li",{class:"foods__list__item",key:e.id},[Object(o["h"])("div",{class:"foods__list__item__cover",style:{backgroundImage:`url('${e.pic}')`}},null,4),Object(o["h"])("h5",{class:"foods__list__item__title",textContent:Object(o["p"])(e.title)},null,8,["textContent"]),Object(o["h"])("div",O,[Object(o["h"])("div",j,[h,Object(o["g"])(" "+Object(o["p"])(e.price.toLocaleString()),1)]),Object(o["h"])("button",{type:"button",class:"button",disabled:-1!==t.checkExist(e),onClick:c=>t.addToCart(e)},"下訂",8,["disabled","onClick"])])]))),128))]),_:1})])}var _=Object(o["i"])({name:"FoodsList",computed:{...Object(l["c"])(["active","foods"]),totalFoods(){return this.foods.filter(t=>t.kind===this.active)}},methods:{addToCart(t){const e=Object.assign({},{qty:1,...t});return this.$store.dispatch("addToCart",e)},checkExist(t){return this.$store.state.cart.findIndex(e=>e.id===t.id)}}});c("40d9");_.render=p;var m=_;const f={class:"cart"},v={key:0,class:"cart__title"},C={class:"cart__list__item__title"},k={class:"cart__list__item__counter"},g={class:"cart__list__item__price"},y=Object(o["h"])("small",null," 元",-1),w={class:"cart__price"},x=Object(o["h"])("span",null,"總計：",-1),F=Object(o["h"])("small",null," 元",-1),L=Object(o["h"])("h6",{class:"modal__title",style:{"text-align":"left"}},"餐點",-1),$={class:"cart__list modal__list"},T={class:"modal__list__price"},q=Object(o["h"])("small",null," 元",-1),I={class:"modal__list__total"},M=Object(o["h"])("span",null,"訂單金額：",-1),P=Object(o["h"])("small",null," 元",-1),S=Object(o["g"])("您的取餐號碼為"),A=Object(o["g"])("，請至櫃台等號付款。");function R(t,e,c,n,s,i){const r=Object(o["o"])("Modal");return Object(o["k"])(),Object(o["e"])("div",f,[t.sortedCartList.length<1?(Object(o["k"])(),Object(o["e"])("h6",v,"購物車是空的！")):Object(o["f"])("",!0),Object(o["h"])(o["c"],{tag:"ul",class:"cart__list",name:"slideDown",mode:"out-in"},{default:Object(o["r"])(()=>[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(t.sortedCartList,e=>(Object(o["k"])(),Object(o["e"])("li",{class:"cart__list__item",key:e.id},[Object(o["h"])("h6",C,[Object(o["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:`url('${e.pic}')`}},null,4),Object(o["h"])("span",{textContent:Object(o["p"])(e.title)},null,8,["textContent"])]),Object(o["h"])("div",k,[Object(o["h"])("button",{type:"button",class:"button button--round",disabled:e.qty<2,onClick:c=>t.setQty(!1,e)},"－",8,["disabled","onClick"]),Object(o["h"])("input",{type:"number",min:"1",name:"qty",value:e.qty,onChange:c=>t.updateQty(e,c)},null,40,["value","onChange"]),Object(o["h"])("button",{type:"button",class:"button button--round",onClick:c=>t.setQty(!0,e)},"＋",8,["onClick"])]),Object(o["h"])("div",g,[Object(o["h"])("button",{type:"button",class:"button button--refuse",onClick:c=>t.removeItemFormCart(e)},"移除",8,["onClick"]),Object(o["h"])("span",null,[Object(o["g"])("小計："+Object(o["p"])((e.qty*e.price).toLocaleString()),1),y])])]))),128))]),_:1}),Object(o["h"])("div",w,[x,Object(o["h"])("span",null,[Object(o["g"])(Object(o["p"])(t.total.toLocaleString()),1),F]),Object(o["h"])("button",{type:"button",class:"button button--checkout button--confirm",onClick:e[1]||(e[1]=e=>t.showConfirm=!t.showConfirm),disabled:t.sortedCartList.length<1},"送出訂單",8,["disabled"])]),Object(o["h"])(o["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(o["r"])(()=>[t.showConfirm?(Object(o["k"])(),Object(o["e"])(r,{key:0,title:"確認訂單"},{content:Object(o["r"])(()=>[L,Object(o["h"])("ul",$,[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["m"])(t.sortedCartList,t=>(Object(o["k"])(),Object(o["e"])("li",{class:"cart__list__item",key:t.id},[Object(o["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:`url('${t.pic}')`}},null,4),Object(o["h"])("h6",{class:"cart__list__item__title",textContent:Object(o["p"])(`${t.title} x ${t.qty}`)},null,8,["textContent"]),Object(o["h"])("span",T,[Object(o["g"])("小計："+Object(o["p"])((t.qty*t.price).toLocaleString()),1),q])]))),128))]),Object(o["h"])("div",I,[M,Object(o["h"])("span",null,[Object(o["g"])(Object(o["p"])(t.total.toLocaleString("zh-TW")),1),P])])]),action:Object(o["r"])(()=>[Object(o["h"])("button",{type:"button",class:"button button--refuse",onClick:e[2]||(e[2]=e=>t.showConfirm=!t.showConfirm)},"回上一步驟"),Object(o["h"])("button",{type:"button",class:"button button--confirm",onClick:e[3]||(e[3]=e=>{t.showConfirm=!1,t.showResult=!0})},"訂單完成")]),_:1})):Object(o["f"])("",!0)]),_:1}),Object(o["h"])(o["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(o["r"])(()=>[t.showResult?(Object(o["k"])(),Object(o["e"])(r,{key:0,title:"訂購成功"},{content:Object(o["r"])(()=>[Object(o["h"])("p",null,[S,Object(o["h"])("span",{textContent:Object(o["p"])(t.generateRandomNumber())},null,8,["textContent"]),A])]),action:Object(o["r"])(()=>[Object(o["h"])("button",{type:"button",class:"button button--confirm",onClick:e[4]||(e[4]=(...e)=>t.closeResultModal&&t.closeResultModal(...e))},"關閉")]),_:1})):Object(o["f"])("",!0)]),_:1})])}c("13d5");const N={class:"modal"},Q={class:"modal__wrap"},B={class:"modal__action"};function D(t,e,c,n,s,i){return Object(o["k"])(),Object(o["e"])("div",N,[Object(o["h"])("div",Q,[Object(o["h"])("h4",{class:"modal__title",textContent:Object(o["p"])(t.title)},null,8,["textContent"]),Object(o["n"])(t.$slots,"content"),Object(o["h"])("div",B,[Object(o["n"])(t.$slots,"action")])])])}var Y=Object(o["i"])({name:"Modal",props:{title:{type:String,default:"",required:!0}}});c("557f");Y.render=D;var K=Y,E=Object(o["i"])({name:"Cart",components:{Modal:K},data(){return{showConfirm:!1,showResult:!1}},computed:{...Object(l["b"])(["sortedCartList"]),total(){if(this.sortedCartList.length<1)return 0;{const t=(t,e)=>t+e,e=this.sortedCartList.map(t=>t.qty*t.price).reduce(t);return e}}},methods:{setQty(t,e){return t?(e.qty+=1,this.$store.dispatch("updateCart",e)):(e.qty-=1,this.$store.dispatch("updateCart",e))},updateQty(t,e){return t.qty=Number(e.target.value),this.$store.dispatch("updateCart",t)},removeItemFormCart(t){return this.$store.dispatch("removeItemFormCart",t.id)},generateRandomNumber(){let t="",e=0;for(let c=0;c<4;c++)e=Math.floor(9*Math.random()),-1===t.indexOf(String(e))?t+=e:c-=1;return t},closeResultModal(){return this.showResult=!1,this.$store.dispatch("clearCart")}}});c("53b5");E.render=R;var J=E;const z={class:"footer"},U={class:"footer__about"},V={key:0,class:"footer__about__popover"},W=Object(o["g"])("本系統採用"),G=Object(o["h"])("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue3",-1),H=Object(o["g"])("進行前端開發，圖片素材來源於"),X=Object(o["h"])("a",{href:"https://picsum.photos/",target:"_blank"},"Lorem Picsum",-1),Z=Object(o["g"])("。 "),tt={class:"footer__copyright"},et=Object(o["g"])("© 2021"),ct=Object(o["g"])(" Design & Coding by ツキノリュウ.");function ot(t,e,c,n,s,i){return Object(o["k"])(),Object(o["e"])("footer",z,[Object(o["h"])("div",U,[Object(o["h"])("button",{type:"button",class:"button button--about",onFocus:e[1]||(e[1]=e=>t.showPopover=!0),onBlur:e[2]||(e[2]=e=>t.showPopover=!1)},"ABOUT",32),Object(o["h"])(o["b"],{name:"slideDown",mode:"out-in",appear:""},{default:Object(o["r"])(()=>[t.showPopover?(Object(o["k"])(),Object(o["e"])("div",V,[W,G,H,X,Z])):Object(o["f"])("",!0)]),_:1})]),Object(o["h"])("div",tt,[et,2021!=t.thisYear?(Object(o["k"])(),Object(o["e"])("span",{key:0,textContent:Object(o["p"])(" - "+t.thisYear)},null,8,["textContent"])):Object(o["f"])("",!0),ct])])}var nt=Object(o["i"])({name:"Footer",data(){return{showPopover:!1}},computed:{thisYear(){return(new Date).getFullYear()}}});c("ce36");nt.render=ot;var st=nt,it=Object(o["i"])({name:"App",components:{FoodsTabs:u,FoodsList:m,Cart:J,Footer:st}});c("23cd");it.render=n;var rt=it,at=Object(l["a"])({state:{cart:[],active:"ch",foods:[{id:"1",kind:"ch",title:"中餐 A",pic:"https://picsum.photos/id/102/360/210",price:390},{id:"2",kind:"ch",title:"中餐 B",pic:"https://picsum.photos/id/1080/360/210",price:590},{id:"3",kind:"ch",title:"中餐 C",pic:"https://picsum.photos/id/139/360/210",price:290},{id:"4",kind:"ws",title:"西餐 A",pic:"https://picsum.photos/id/292/360/210",price:590},{id:"5",kind:"ws",title:"西餐 B",pic:"https://picsum.photos/id/425/360/210",price:690},{id:"6",kind:"ws",title:"西餐 C",pic:"https://picsum.photos/id/429/360/210",price:490}]},getters:{foodsKind:t=>t.foods.map(t=>t.kind).filter((t,e,c)=>c.indexOf(t,0)===e),sortedCartList:t=>t.cart.sort((t,e)=>Number(t.id)-Number(e.id))},mutations:{changeActive(t,e){t.active=e},addToCart(t,e){const c=t.cart.findIndex(t=>t.id===e.id);-1===c&&t.cart.push(e)},updateCart(t,e){const c=t.cart.find(t=>t.id===e.id);void 0!==c&&Object.assign(c,e)},removeItemFormCart(t,e){const c=t.cart.findIndex(t=>t.id===e);t.cart.splice(c,1)},clearCart(t){t.cart.length=0}},actions:{changeActive({commit:t},e){t("changeActive",e)},addToCart({commit:t},e){t("addToCart",e)},updateCart({commit:t},e){t("updateCart",e)},removeItemFormCart({commit:t},e){t("removeItemFormCart",e)},clearCart({commit:t}){t("clearCart")}}});Object(o["d"])(rt).use(at).mount("#app")},ce36:function(t,e,c){"use strict";c("09bb")},cedc:function(t,e,c){},d434:function(t,e,c){}});