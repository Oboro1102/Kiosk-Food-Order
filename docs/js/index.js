(function(t){function e(e){for(var c,i,a=e[0],s=e[1],u=e[2],b=0,d=[];b<a.length;b++)i=a[b],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],c=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(c=!1)}c&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var c={},o={index:0},r=[];function i(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=c,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(n,c,function(e){return t[e]}.bind(null,c));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0ab0":function(t,e,n){},"0ade":function(t,e,n){t.exports=n.p+"img/andres-rodriguez-3jJtXTwLZw4-unsplash.jpg"},"0b2d":function(t,e,n){t.exports=n.p+"img/sam-moqadam-PcI8L5CG5XA-unsplash.jpg"},"1b81":function(t,e,n){"use strict";n("1d5d")},"1d5d":function(t,e,n){},"23cd":function(t,e,n){"use strict";n("b012")},3219:function(t,e,n){},"3f02":function(t,e,n){"use strict";n("0ab0")},"40a3":function(t,e,n){"use strict";n("3219")},"76c1":function(t,e,n){},"85f8":function(t,e,n){},"874a":function(t,e,n){t.exports=n.p+"img/drew-taylor-jFu2L04tMBc-unsplash.jpg"},"8ece":function(t,e,n){t.exports=n.p+"img/caroline-attwood-bpPTlXWTOvg-unsplash.jpg"},"91af":function(t,e,n){t.exports=n.p+"img/sj-Jinnqw9bHjI-unsplash.jpg"},"9a38":function(t,e,n){"use strict";n("85f8")},a24a:function(t,e,n){},adaa:function(t,e,n){t.exports=n.p+"img/anna-volkova-LeU-Tdabc5E-unsplash.jpg"},b012:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");n("d434"),n("a24a");function o(t,e,n,o,r,i){var a=Object(c["o"])("FoodsTabs"),s=Object(c["o"])("FoodsList"),u=Object(c["o"])("Cart"),l=Object(c["o"])("Footer");return Object(c["k"])(),Object(c["e"])(c["a"],null,[Object(c["h"])(a),Object(c["h"])("main",null,[Object(c["h"])(s),Object(c["h"])(u)]),Object(c["h"])(l)],64)}var r={class:"tabs"},i={key:0},a={key:1};function s(t,e,n,o,s,u){return Object(c["k"])(),Object(c["e"])("ul",r,[(Object(c["k"])(!0),Object(c["e"])(c["a"],null,Object(c["m"])(t.list,(function(e,n){return Object(c["k"])(),Object(c["e"])("li",{class:["tabs__item",{"tabs__item--active":e===t.active}],key:n,onClick:function(n){return t.changeActive(e)}},["ch"===e?(Object(c["k"])(),Object(c["e"])("span",i,"中式餐點")):Object(c["f"])("",!0),"ws"===e?(Object(c["k"])(),Object(c["e"])("span",a,"西式餐點")):Object(c["f"])("",!0)],10,["onClick"])})),128))])}var u=Object(c["i"])({computed:{active:function(){return this.$store.state.active},list:function(){return this.$store.getters["foodsKind"]}},methods:{changeActive:function(t){return this.$store.dispatch("changeActive",t)}}});n("3f02");u.render=s;var l=u,b={class:"foods"},d={class:"foods__list__item__title"},f={class:"foods__list__item__action"},j={class:"foods__list__item__action__price"},O=Object(c["h"])("small",null,"NT",-1);function p(t,e,n,o,r,i){return Object(c["k"])(),Object(c["e"])("section",b,[Object(c["h"])(c["c"],{tag:"ul",class:"foods__list",name:"fade",mode:"out-in"},{default:Object(c["r"])((function(){return[(Object(c["k"])(!0),Object(c["e"])(c["a"],null,Object(c["m"])(t.totalFoods,(function(e){return Object(c["k"])(),Object(c["e"])("li",{class:"foods__list__item",key:e.id},[Object(c["h"])("div",{class:"foods__list__item__cover",style:{backgroundImage:"url("+e.pic+")"}},null,4),Object(c["h"])("h5",d,Object(c["p"])(e.title),1),Object(c["h"])("div",f,[Object(c["h"])("div",j,[O,Object(c["g"])(" "+Object(c["p"])(e.price.toLocaleString("zh-TW")),1)]),Object(c["h"])("button",{type:"button",class:"button",disabled:-1!==t.checkExist(e),onClick:function(n){return t.addToCart(e)}}," 下訂 ",8,["disabled","onClick"])])])})),128))]})),_:1})])}n("4de4"),n("c740");var h=Object(c["i"])({name:"FoodsList",computed:{active:function(){return this.$store.state.active},totalFoods:function(){var t=this;return this.$store.state.foods.filter((function(e){return e.kind===t.active}))}},methods:{addToCart:function(t){t.qty=1,this.$store.dispatch("addToCart",t)},checkExist:function(t){return this.$store.state.cart.findIndex((function(e){return e.id===t.id}))}}});n("ce90");h.render=p;var m=h,_={class:"cart"},v={key:0,class:"cart__title"},g={class:"cart__list__item__title"},k={class:"cart__list__item__counter"},y={class:"cart__list__item__price"},C=Object(c["h"])("small",null," 元",-1),w={class:"cart__price"},x=Object(c["h"])("span",null,"總計：",-1),L=Object(c["h"])("small",null," 元",-1),T=Object(c["h"])("h6",{class:"modal__title",style:{"text-align":"left"}},"餐點",-1),F={class:"cart__list modal__list"},$={class:"cart__list__item__title"},q={class:"modal__list__price"},I=Object(c["h"])("small",null," 元",-1),M={class:"modal__list__total"},P=Object(c["h"])("span",null,"訂單金額：",-1),S=Object(c["h"])("small",null," 元",-1),A=Object(c["g"])(" 您的取餐號碼為"),R=Object(c["g"])("，請至櫃台等號付款。 ");function z(t,e,n,o,r,i){var a=Object(c["o"])("Modal");return Object(c["k"])(),Object(c["e"])("div",_,[t.cartList.length<1?(Object(c["k"])(),Object(c["e"])("h6",v,"購物車是空的！")):Object(c["f"])("",!0),Object(c["h"])(c["c"],{tag:"ul",class:"cart__list",name:"slideDown",mode:"out-in"},{default:Object(c["r"])((function(){return[(Object(c["k"])(!0),Object(c["e"])(c["a"],null,Object(c["m"])(t.cartList,(function(e){return Object(c["k"])(),Object(c["e"])("li",{class:"cart__list__item",key:e.id},[Object(c["h"])("h6",g,[Object(c["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:"url("+e.pic+")"}},null,4),Object(c["h"])("span",null,Object(c["p"])(e.title),1)]),Object(c["h"])("div",k,[Object(c["h"])("button",{type:"button",class:"button button--round",disabled:e.qty<2,onClick:function(n){return t.setQty(!1,e)}}," － ",8,["disabled","onClick"]),Object(c["h"])("input",{type:"number",min:"1",name:"qty",value:e.qty,onChange:function(n){return t.updateQty(e,n)}},null,40,["value","onChange"]),Object(c["h"])("button",{type:"button",class:"button button--round",onClick:function(n){return t.setQty(!0,e)}}," ＋ ",8,["onClick"])]),Object(c["h"])("div",y,[Object(c["h"])("button",{type:"button",class:"button button--refuse",onClick:function(n){return t.removeItemFormCart(e)}}," 移除 ",8,["onClick"]),Object(c["h"])("span",null,[Object(c["g"])("小計："+Object(c["p"])((e.qty*e.price).toLocaleString("zh-TW")),1),C])])])})),128))]})),_:1}),Object(c["h"])("div",w,[x,Object(c["h"])("span",null,[Object(c["g"])(Object(c["p"])(t.total.toLocaleString("zh-TW")),1),L]),Object(c["h"])("button",{type:"button",class:"button button--checkout button--confirm",onClick:e[1]||(e[1]=function(e){return t.showConfirm=!t.showConfirm}),disabled:t.cartList.length<1}," 送出訂單 ",8,["disabled"])]),Object(c["h"])(c["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(c["r"])((function(){return[t.showConfirm?(Object(c["k"])(),Object(c["e"])(a,{key:0,title:"確認訂單"},{content:Object(c["r"])((function(){return[T,Object(c["h"])("ul",F,[(Object(c["k"])(!0),Object(c["e"])(c["a"],null,Object(c["m"])(t.cartList,(function(t){return Object(c["k"])(),Object(c["e"])("li",{class:"cart__list__item",key:t.id},[Object(c["h"])("div",{class:"cart__list__item__cover",style:{backgroundImage:"url("+t.pic+")"}},null,4),Object(c["h"])("h6",$,Object(c["p"])(t.title)+" x "+Object(c["p"])(t.qty),1),Object(c["h"])("span",q,[Object(c["g"])(" 小計："+Object(c["p"])((t.qty*t.price).toLocaleString("zh-TW")),1),I])])})),128))]),Object(c["h"])("div",M,[P,Object(c["h"])("span",null,[Object(c["g"])(Object(c["p"])(t.total.toLocaleString("zh-TW")),1),S])])]})),action:Object(c["r"])((function(){return[Object(c["h"])("button",{type:"button",class:"button button--refuse",onClick:e[2]||(e[2]=function(e){return t.showConfirm=!t.showConfirm})}," 回上一步驟 "),Object(c["h"])("button",{type:"button",class:"button button--confirm",onClick:e[3]||(e[3]=function(e){t.showConfirm=!1,t.showResult=!0})}," 訂單完成 ")]})),_:1})):Object(c["f"])("",!0)]})),_:1}),Object(c["h"])(c["b"],{name:"scale",mode:"out-in",appear:""},{default:Object(c["r"])((function(){return[t.showResult?(Object(c["k"])(),Object(c["e"])(a,{key:0,title:"訂購成功"},{content:Object(c["r"])((function(){return[Object(c["h"])("p",null,[A,Object(c["h"])("span",null,Object(c["p"])(t.generateRandomNumber()),1),R])]})),action:Object(c["r"])((function(){return[Object(c["h"])("button",{type:"button",class:"button button--confirm",onClick:e[4]||(e[4]=function(){return t.closeResultModal&&t.closeResultModal.apply(t,arguments)})}," 關閉 ")]})),_:1})):Object(c["f"])("",!0)]})),_:1})])}n("d81d"),n("a9e3");var N={class:"modal"},W={class:"modal__wrap"},B={class:"modal__title"},Q={class:"modal__action"};function D(t,e,n,o,r,i){return Object(c["k"])(),Object(c["e"])("div",N,[Object(c["h"])("div",W,[Object(c["h"])("h4",B,Object(c["p"])(t.title),1),Object(c["n"])(t.$slots,"content"),Object(c["h"])("div",Q,[Object(c["n"])(t.$slots,"action")])])])}var J=Object(c["i"])({name:"Modal",props:{title:{type:String,required:!0}}});n("9a38");J.render=D;var Y=J,E=Object(c["i"])({name:"Cart",components:{Modal:Y},data:function(){return{showConfirm:!1,showResult:!1}},computed:{cartList:function(){return this.$store.getters["sortedCartList"]},total:function(){if(this.cartList.length<1)return 0;var t=function(t,e){return t+e},e=this.cartList.map((function(t){return t.qty*t.price})).reduce(t);return e}},methods:{setQty:function(t,e){return t?(e.qty+=1,this.$store.dispatch("updateCart",e)):(e.qty-=1,this.$store.dispatch("updateCart",e))},updateQty:function(t,e){return t.qty=Number(e.target.value),this.$store.dispatch("updateCart",t)},removeItemFormCart:function(t){return this.$store.dispatch("removeItemFormCart",t.id)},generateRandomNumber:function(){for(var t="",e=0,n=0;n<4;n++)e=Math.floor(9*Math.random()),-1===t.indexOf(String(e))?t+=e:n-=1;return t},closeResultModal:function(){return this.showResult=!1,this.$store.dispatch("clearCart")}}});n("40a3");E.render=z;var U=E,X={class:"footer"},K={class:"footer__about"},G={key:0,class:"footer__about__popover"},H=Object(c["g"])(" 本系統採用"),V=Object(c["h"])("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue3",-1),Z=Object(c["g"])("進行前端開發，圖片素材來源於"),tt=Object(c["h"])("a",{href:"https://unsplash.com/",target:"_blank"},"Unsplash",-1),et=Object(c["g"])("。 "),nt={class:"footer__copyright"},ct=Object(c["g"])(" © 2021"),ot={key:0},rt=Object(c["g"])(" Design & Coding by ツキノリュウ. ");function it(t,e,n,o,r,i){return Object(c["k"])(),Object(c["e"])("footer",X,[Object(c["h"])("div",K,[Object(c["h"])("button",{type:"button",class:"button button--about",onFocus:e[1]||(e[1]=function(e){return t.showPopover=!0}),onBlur:e[2]||(e[2]=function(e){return t.showPopover=!1})}," ABOUT ",32),Object(c["h"])(c["b"],{name:"slideDown",mode:"out-in",appear:""},{default:Object(c["r"])((function(){return[t.showPopover?(Object(c["k"])(),Object(c["e"])("div",G,[H,V,Z,tt,et])):Object(c["f"])("",!0)]})),_:1})]),Object(c["h"])("div",nt,[ct,2021!=t.thisYear?(Object(c["k"])(),Object(c["e"])("span",ot," - "+Object(c["p"])(t.thisYear),1)):Object(c["f"])("",!0),rt])])}var at=Object(c["i"])({name:"Footer",data:function(){return{showPopover:!1}},computed:{thisYear:function(){return(new Date).getFullYear()}}});n("1b81");at.render=it;var st=at,ut=Object(c["i"])({name:"App",components:{FoodsTabs:l,FoodsList:m,Cart:U,Footer:st}});n("23cd");ut.render=o;var lt=ut,bt=(n("7db0"),n("a434"),n("5502")),dt=Object(bt["a"])({state:{cart:[],active:"ch",foods:[{id:"1",kind:"ch",title:"中餐 A",pic:n("0ade"),price:390},{id:"2",kind:"ch",title:"中餐 B",pic:n("874a"),price:590},{id:"3",kind:"ch",title:"中餐 C",pic:n("91af"),price:290},{id:"4",kind:"ws",title:"西餐 A",pic:n("adaa"),price:590},{id:"5",kind:"ws",title:"西餐 B",pic:n("8ece"),price:690},{id:"6",kind:"ws",title:"西餐 C",pic:n("0b2d"),price:490}]},getters:{foodsKind:function(t){return t.foods.map((function(t){return t.kind})).filter((function(t,e,n){return n.indexOf(t,0)===e}))},sortedCartList:function(t){return t.cart.sort((function(t,e){return Number(t.id)-Number(e.id)}))}},mutations:{changeActive:function(t,e){t.active=e},addToCart:function(t,e){var n=t.cart.findIndex((function(t){return t.id===e.id}));-1===n&&t.cart.push(e)},updateCart:function(t,e){var n=t.cart.find((function(t){return t.id===e.id}));void 0!==n&&Object.assign(n,e)},removeItemFormCart:function(t,e){var n=t.cart.findIndex((function(t){return t.id===e}));t.cart.splice(n,1)},clearCart:function(t){t.cart.length=0}},actions:{changeActive:function(t,e){var n=t.commit;n("changeActive",e)},addToCart:function(t,e){var n=t.commit;n("addToCart",e)},updateCart:function(t,e){var n=t.commit;n("updateCart",e)},removeItemFormCart:function(t,e){var n=t.commit;n("removeItemFormCart",e)},clearCart:function(t){var e=t.commit;e("clearCart")}}});Object(c["d"])(lt).use(dt).mount("#app")},ce90:function(t,e,n){"use strict";n("76c1")},d434:function(t,e,n){}});